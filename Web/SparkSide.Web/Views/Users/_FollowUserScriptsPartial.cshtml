@model SparkSide.Services.Data.Models.UserDTO

<div></div>
<script type="text/javascript">
    $(() => {
        var followButton = $("#btnFollow");
        followButton.click(() => {
            followButton.attr("disabled", true);
            $.ajax({
                method: "POST",
                url: '@Url.Action("Follow", "UserActions")',
                data: JSON.stringify({
                    'UserId': '@Model.Id',
                }),
                contentType: "application/json",
                success: function () {
                    followButton.text("Followed");
                },
                error: function () {
                    alert("Error while following user.");
                    followButton.attr("disabled", false);
                }
            });
            return false;
        });

        var unfollowButton = $("#btnUnfollow");
        unfollowButton.click(() => {
            unfollowButton.attr("disabled", true);
            $.ajax({
                method: "POST",
                url: '@Url.Action("Unfollow", "UserActions")',
                data: JSON.stringify({
                    'UserId': '@Model.Id',
                }),
                contentType: "application/json",
                success: function () {
                    unfollowButton.text("Unfollowed");
                },
                error: function () {
                    alert("Error while following user.");
                    unfollowButton.attr("disabled", false);
                }
            });
            return false;
        });
    });

</script>  